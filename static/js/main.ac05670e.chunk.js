(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{144:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(96),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(99),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(70),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(422),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(423),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(424),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(100),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(426),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(239),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(146),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(83),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(234),_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(430),_Editor__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(226),match_sorter__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(69),_TypeBadge__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(45),_EditableText__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(228),react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(47),draft_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(24),draft_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(draft_js__WEBPACK_IMPORTED_MODULE_22__),draft_js_dist_Draft_css__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(413),draft_js_dist_Draft_css__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(draft_js_dist_Draft_css__WEBPACK_IMPORTED_MODULE_23__),_draftEditorStyles_css__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(414),_draftEditorStyles_css__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_draftEditorStyles_css__WEBPACK_IMPORTED_MODULE_24__),_components__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(56),hasCommandModifier=draft_js__WEBPACK_IMPORTED_MODULE_22__.KeyBindingUtil.hasCommandModifier,useCallback=react__WEBPACK_IMPORTED_MODULE_4__.useCallback,autocompleteKeyBindingFn=function(e){switch(e.key){case"ArrowDown":return"down";case"ArrowUp":return"up";case"Escape":return"close";case"Enter":return"select";default:return Object(draft_js__WEBPACK_IMPORTED_MODULE_22__.getDefaultKeyBinding)(e)}},defaultName="name",typeSuggestions=[{title:"string"},{title:"boolean"},{title:"number"}],safeEval=function safeEval(s){try{return eval("(() => ".concat(s,")()"))}catch(error){return null}},getParamsAndReturns=function(e){return e.split(arrow).map((function(e){return{type:e.trim()}}))},isSignatureCorrect=function(e){return e.length>1&&e.every((function(e){return["boolean","number","string"].includes(e.type)}))},getFilteredTypeSuggestions=function(e,t){return void 0===t||null===t?[]:""===t||" "===t?typeSuggestions:typeSuggestions.some((function(e){return e.title===t}))?[]:Object(match_sorter__WEBPACK_IMPORTED_MODULE_18__.a)(e,t,{keys:["title"]})},getFilteredFunctions=function(e,t){return void 0===t||null===t?[]:""===t?e:Object(match_sorter__WEBPACK_IMPORTED_MODULE_18__.a)(e,t,{keys:["name"]})},arrow="->",typeToName=function(e,t){var n=t||"";switch(e.type){case"string":return"str"+n;case"number":return"num"+n;case"boolean":return"bool"+n;default:return"x"}},getParamNames=function(e){var t=[],n={};return e.forEach((function(e){var _=typeToName(e,n[e.type]);t.push(_),n[e.type]=(n[e.type]||0)+1})),t};function findWithRegex(e,t,n){for(var _,r,a=t.getText();null!==(_=e.exec(a));)n(r=_.index,r+_[0].length)}var signatureDecorator=new draft_js__WEBPACK_IMPORTED_MODULE_22__.CompositeDecorator([{strategy:function(e,t,n){findWithRegex(new RegExp("(".concat(typeSuggestions.map((function(e){return e.title})).join("|"),")"),"gi"),e,t)},component:function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_TypeBadge__WEBPACK_IMPORTED_MODULE_19__.a,{typeAsString:e.decoratedText,children:e.children,as:"span"})}}]),HANDLE_REGEX=/@[\w]+/g,getStateValueFromFunc=function(e,t){return{name:(null===t||void 0===t?void 0:t.name)||"",signature:draft_js__WEBPACK_IMPORTED_MODULE_22__.EditorState.createWithContent(draft_js__WEBPACK_IMPORTED_MODULE_22__.ContentState.createFromText((null===t||void 0===t?void 0:t.parameters.concat(t.returns).map((function(e){return e.type})).join(" ".concat(arrow," ")))||""),signatureDecorator),description:draft_js__WEBPACK_IMPORTED_MODULE_22__.EditorState.createWithContent(draft_js__WEBPACK_IMPORTED_MODULE_22__.ContentState.createFromText((null===t||void 0===t?void 0:t.description)||""),e),code:(null===t||void 0===t?void 0:t.fn.toString())||""}},setOriginalState=function(e,t){var n={name:t.name,signatureString:t.signature.getCurrentContent().getPlainText(),descriptionString:t.description.getCurrentContent().getPlainText(),code:t.code};e.current=n},DocsCard=function(e){var t=e.func,n=e.dispatch,_=e.index,r=e.functions,a=e.navigationType,o=Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(e,["func","dispatch","index","functions","navigationType"]),c=new draft_js__WEBPACK_IMPORTED_MODULE_22__.CompositeDecorator([{strategy:function(e,t,n){findWithRegex(HANDLE_REGEX,e,t)},component:function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.a,{as:"span",variant:"link",color:"unison.aqua",fontSize:"inherit",fontStyle:"inherit",style:{direction:"ltr",unicodeBidi:"bidi-override"},"data-offset-key":e.offsetKey,onClick:function(t){n({type:"openDocs",openerIndex:_,fnName:e.decoratedText.slice(1)})},children:e.children})}}]),i=react__WEBPACK_IMPORTED_MODULE_4__.useRef({name:"",signatureString:"",descriptionString:"",code:""}),s=react__WEBPACK_IMPORTED_MODULE_4__.useState((function(){var e=getStateValueFromFunc(c,t);return setOriginalState(i,e),e})),l=Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(s,2),d=l[0],u=l[1],p=react__WEBPACK_IMPORTED_MODULE_4__.useState(t),b=Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(p,2),j=b[0],O=b[1];if(j!==t){O(t);var m=getStateValueFromFunc(c,t);setOriginalState(i,m),u(m)}var f=d.name,g=d.signature,E=d.description,h=d.code,x=react__WEBPACK_IMPORTED_MODULE_4__.useRef(null);react__WEBPACK_IMPORTED_MODULE_4__.useEffect((function(){var e;null===(e=x.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);var D=function(e){return u((function(t){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t),{},{name:e})}))},C=[defaultName,""].includes(f)?"italic":"normal",P=[defaultName,""].includes(f)?"gray.400":"normal",M=E.getCurrentContent().hasText(),v=M?"normal":"italic",I=M?"normal":"gray.400",y=function(e){u((function(t){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t),{},{description:e})}));window.requestAnimationFrame((function(){var t=window.getSelection();if(0!==t.rangeCount){var n=e.getSelection(),_=e.getCurrentContent().getBlockForKey(n.getStartKey());if(n.getHasFocus()&&!_.getEntityAt(n.getStartOffset()-1)){var r=t.getRangeAt(0).startContainer.textContent,a=r.lastIndexOf("@");if(-1!==a){var o=r.substring(a);o="@"===o?"":o.slice(1);var c=window.getSelection().getRangeAt(0).cloneRange();c.setStart(c.startContainer,a);var i=c.getBoundingClientRect(),s=[i.left,i.bottom];B({left:s[0],top:s[1],text:o,startIndex:a,selectedIndex:0})}else B(null)}else B(null)}else B(null)}))},T=react__WEBPACK_IMPORTED_MODULE_4__.useState(null),w=Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(T,2),k=w[0],B=w[1],A=getFilteredFunctions(r,null===k||void 0===k?void 0:k.text),U=react__WEBPACK_IMPORTED_MODULE_4__.useRef(null),R=function(e,t){if(0===A.length)return"not-handled";switch(e){case"up":return B((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{selectedIndex:0===e.selectedIndex?0:e.selectedIndex-1})})),"handled";case"down":return B((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{selectedIndex:e.selectedIndex===V.length-1?V.length-1:e.selectedIndex+1})})),"handled";case"close":return U.current.blur(),"handled";case"select":var n=E.getSelection(),_=n.getAnchorOffset(),r=n.getAnchorKey(),a=E.getCurrentContent(),o=a.getBlockForKey(r).getText(),c="@"+A[null!==t&&void 0!==t?t:k.selectedIndex].name,i=a.createEntity("FUNCTION","IMMUTABLE").getLastCreatedEntityKey(),s=n.merge({anchorOffset:o.lastIndexOf("@"),focusOffset:_}),l=draft_js__WEBPACK_IMPORTED_MODULE_22__.Modifier.replaceText(E.getCurrentContent(),s,c,void 0,i),d=draft_js__WEBPACK_IMPORTED_MODULE_22__.EditorState.push(E,l,"apply-entity");return u((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{description:d})})),B(null),"handled";default:return"not-handled"}},L=react__WEBPACK_IMPORTED_MODULE_4__.useRef(null),S=react__WEBPACK_IMPORTED_MODULE_4__.useRef(null),W=react__WEBPACK_IMPORTED_MODULE_4__.useRef(null),K=function(e){var t;switch(e.getLastChangeType()){case"insert-characters":var n=e.getCurrentContent().getFirstBlock().getText(),_=n;if(n.endsWith(",")||n.endsWith(" ")){var r=n.replace(","," ").trimEnd().endsWith(arrow),a=n.substr(0,n.length-1).endsWith("}");_=r||a&&n.endsWith(" ")?n:n.substr(0,n.length-1).concat(" ".concat(arrow," "))}t=n===_?e:draft_js__WEBPACK_IMPORTED_MODULE_22__.EditorState.moveFocusToEnd(draft_js__WEBPACK_IMPORTED_MODULE_22__.EditorState.push(e,draft_js__WEBPACK_IMPORTED_MODULE_22__.ContentState.createFromText(_),"insert-fragment"));break;default:t=e}u((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{signature:t})})),window.requestAnimationFrame((function(){var e,n=window.getSelection();if(0!==n.rangeCount)if(t.getSelection().getHasFocus()){var _=n.getRangeAt(0),r=_.startContainer.textContent,a=r.length>0?r.lastIndexOf(" "):0;a=-1===a?0:a;var o=r.substring(a).trim(),c=_.getBoundingClientRect().left,i=S.current,s=null!==(e=W.current)&&void 0!==e?e:i.getBoundingClientRect();W.current=s;var l=s.bottom;0===c&&(c=s.left),N({left:c,top:l,text:o,wholeWordText:r,startIndex:a,selectedIndex:0})}else N(null);else N(null)}))},F=react__WEBPACK_IMPORTED_MODULE_4__.useState(null),z=Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(F,2),q=z[0],N=z[1],V=getFilteredTypeSuggestions(typeSuggestions,null===q||void 0===q?void 0:q.text),H=g.getCurrentContent().getPlainText(),X=getParamsAndReturns(H),Y=X.slice(0,X.length-1),G=getParamNames(Y),J=h||"function ".concat(f||"name","(").concat(G.join(", "),") {\n\n}"),$=!isSignatureCorrect(X),Q=f!==i.current.name||H!==i.current.signatureString||E.getCurrentContent().getPlainText()!==i.current.descriptionString||h!==i.current.code,Z=useCallback((function(){var e=getStateValueFromFunc(c,void 0);setOriginalState(i,e),u(e),n({type:"clearDocsCard",index:_})}),[i,_]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.a,Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({backgroundColor:"white",padding:1,minHeight:"100%",display:"flex",flexDirection:"column"},o),{},{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.a,{paddingLeft:2,alignItems:"center",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.a,{fontSize:"xl",fontStyle:"italic",color:"unison.purple",children:"Docs"}),"history"===a?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.c,{}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.a,{onClick:Z,fadeIn:Q}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.f,{onClick:function(){var e=safeEval(h),t=isSignatureCorrect(X);if(e&&t){var r=X.slice(0,X.length-1),a=X.slice(-1).pop();n({type:"createFunction",function:{name:f,parameters:r,returns:a,fn:e,description:E.getCurrentContent().getPlainText()},index:_})}},fadeIn:Q,disabled:$}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.b,{}),a?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.d,{dispatch:n,navigationType:a}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.a,{"aria-label":"Close card",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_icons__WEBPACK_IMPORTED_MODULE_16__.a,{}),variant:"ghost",size:"sm",onClick:function(){return n({type:"closeDocsCard",index:_})},ref:x,sx:{scrollMarginRight:"20px"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.a,{marginTop:2}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_21__.c,{droppableId:"DocsCard",children:function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.a,Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({ref:e.innerRef},e.droppableProps),{},{flex:1,minHeight:"100%",height:"100%",overflow:"auto",paddingX:2,paddingY:2,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_EditableText__WEBPACK_IMPORTED_MODULE_20__.a,{value:f,onChange:D,placeholder:defaultName,fontSize:"2xl",textColor:P,fontStyle:C,marginBottom:3}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.a,{fontSize:"sm",padding:.5,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.a,{as:"span",placeholder:defaultName,fontStyle:C,width:9*(f.length>3?f.length:4)+9+"px",value:f,textColor:P,onChange:D,paddingX:1,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.c,{width:9*(f.length>3?f.length:4)+9+"px"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.b,{width:9*(f.length>3?f.length:4)+9+"px",_focus:{outline:""}})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.a,{as:"span",fontSize:"sm",children:[":"," "]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.a,{fontSize:"sm",width:"100%",paddingX:1,paddingY:1,as:"span",ref:S,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(draft_js__WEBPACK_IMPORTED_MODULE_22__.Editor,{editorState:g,ref:L,onChange:K,keyBindingFn:autocompleteKeyBindingFn,handleKeyCommand:function(e){return function(e,t){if(0===V.length)return"not-handled";switch(e){case"up":return N((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{selectedIndex:0===e.selectedIndex?0:e.selectedIndex-1})})),"handled";case"down":return N((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{selectedIndex:e.selectedIndex===V.length-1?V.length-1:e.selectedIndex+1})})),"handled";case"close":return L.current.blur(),"handled";case"select":var n=g.getSelection(),_=n.getAnchorOffset(),r=n.getAnchorKey(),a=g.getCurrentContent(),o=a.getBlockForKey(r).getText(),c=a.createEntity("TYPE","IMMUTABLE").getLastCreatedEntityKey(),i=o.length>0?o.lastIndexOf(" "):0;i=-1===i?0:i;var s=V[null!==t&&void 0!==t?t:q.selectedIndex].title,l=0===i?s:" "+s,d=n.merge({anchorOffset:i,focusOffset:_}),p=draft_js__WEBPACK_IMPORTED_MODULE_22__.Modifier.replaceText(g.getCurrentContent(),d,l,void 0,c),b=draft_js__WEBPACK_IMPORTED_MODULE_22__.EditorState.push(g,p,"apply-entity");return u((function(e){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e),{},{signature:b})})),N(null),"handled";default:return"not-handled"}}(e)}}),V.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.g,{typeSuggestions:V,selectedIndex:q.selectedIndex,left:q.left,top:q.top}):null]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.a,{className:"description",marginTop:5,fontSize:"xl",fontStyle:v,color:I,backgroundColor:"yellow.50",padding:3,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(draft_js__WEBPACK_IMPORTED_MODULE_22__.Editor,{ref:U,placeholder:"Description",editorState:E,onChange:y,keyBindingFn:autocompleteKeyBindingFn,handleKeyCommand:function(e){return R(e)}}),A.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_25__.e,{onClick:function(e){return R("select",e)},functionSuggestions:A,selectedIndex:k.selectedIndex,left:k.left,top:k.top}):null]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.a,{marginTop:5,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Editor__WEBPACK_IMPORTED_MODULE_17__.a,{value:J,onChange:function(e,t){!function(e){u((function(t){return Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_jesusgarciamartinez_Desktop_new_documents_projects_unison_job_application_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t),{},{code:e})}))}(t)}})}),e.placeholder]}))}})]}))};__webpack_exports__.a=DocsCard},226:function(e,t,n){"use strict";var _=n(2),r=(n(1),n(139));t.a=function(e){var t=e.value,n=e.onChange;return Object(_.jsx)(r.ControlledEditor,{width:"100%",height:"30vh",language:"javascript",theme:"vs-light",value:t,options:{minimap:{enabled:!1},lineNumbers:"off"},onChange:n})}},228:function(e,t,n){"use strict";var _=n(4),r=n(2),a=(n(1),n(21)),o=n(83),c=Object(a.a)((function(e,t){return Object(r.jsxs)(o.a,Object(_.a)(Object(_.a)({},e),{},{children:[Object(r.jsx)(o.c,{}),Object(r.jsx)(o.b,{ref:t,_focus:{outline:""}})]}))}));t.a=c},249:function(e,t,n){},290:function(e,t,n){},414:function(e,t,n){},416:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);var _=n(2),r=n(1),a=n(33),o=n.n(a),c=n(477),i=n(484),s=n(5),l=n(47),d=n(212),u=n(4),p=n(234),b=n(146),j=n(21),O=n(97),m=n(70),f=n(466),g=n(467),E=n(482),h=n(239),x=n(469),D=n(470),C=n(58),P=n(464),M=n(481),v=n(480),I=n(463),y=n(468),T=n(471),w=n(421),k=n(224),B=n(225),A=(n(249),n(45)),U=n(120),R=n.n(U),L=n(76),S=function(e){return Object(_.jsxs)(p.a,{wrap:"nowrap",color:"unison.purple",_hover:{color:"unison.lightPurple"},children:[Object(_.jsx)(b.a,{fontSize:"sm",paddingX:1,paddingY:.5,rounded:"base",backgroundColor:"transparent",color:"inherit",children:e.name}),Object(_.jsx)(p.a,{as:"span",children:": "}),Object(_.jsx)(p.a,{as:"span",flexWrap:"nowrap",children:e.parameters.map((function(e,t){return Object(_.jsxs)(p.a,{as:"span",children:[Object(_.jsx)(A.a,{typeAsString:e.type}),Object(_.jsx)(I.a,{marginX:1})]},t)}))}),Object(_.jsx)(A.a,{typeAsString:e.returns.type})]})},W=function(e){return function(t,n,r){return Object(_.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,style:t.draggableProps.style,children:Object(_.jsx)("div",{children:Object(_.jsx)(S,Object(u.a)({},e))})}))}},K=Object(P.a)({root:{marginBottom:"5px"},content:{"&:hover":{backgroundColor:"transparent",cursor:"grabbing"}}}),F=function(e){var t=K(),n=t.root,r=t.content;return Object(_.jsx)(v.a,{classes:{root:n,content:e.isAnyItemDragging?r:void 0},nodeId:e.nodeId,label:Object(_.jsx)(l.c,{droppableId:e.nodeId,renderClone:W(e),isDropDisabled:!0,children:function(t,n){var r=e.nodeId===n.draggingFromThisWith;return Object(_.jsx)("div",Object(u.a)(Object(u.a)({ref:t.innerRef},t.droppableProps),{},{children:r?Object(_.jsx)("div",{className:"react-beautiful-dnd-copy",children:Object(_.jsx)(S,Object(u.a)({},e))}):Object(_.jsx)(l.b,{draggableId:e.nodeId,index:0,children:function(t,n){return Object(_.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(_.jsx)(S,Object(u.a)({},e))}))}})}))}})})},z=function(e){var t=K().content;return Object(_.jsx)(v.a,{nodeId:e.nodeId,classes:{content:e.isAnyItemDragging?t:void 0},label:Object(_.jsx)(A.a,{typeAsString:e.type})})},q=r.memo(Object(j.a)((function(e,t){var n=e.items,a=e.isAnyItemDragging,o=e.dispatch,c=e.searchValue,i=Object(O.d)().colors.unison,l=i.purple,d=i.lightPurple,b=i.aqua,j=r.useState(!1),P=Object(s.a)(j,2),I=P[0],A=P[1],U=r.useState(!1),S=Object(s.a)(U,2),W=S[0],K=S[1],q=r.useCallback((function(){A(!0)}),[]),N=r.useCallback((function(){A(!1)}),[]);return Object(_.jsxs)(m.a,{height:"100%",flex:1,backgroundColor:"purple.50",paddingTop:4,children:[Object(_.jsxs)(f.a,{width:"100%",whiteSpace:"nowrap",padding:1,display:"flex",onMouseEnter:q,onMouseLeave:N,children:[Object(_.jsx)(g.a,{pointerEvents:"none",children:Object(_.jsx)(y.a,{color:W?b:I?d:l})}),Object(_.jsx)(E.a,{ref:t,placeholder:"Search",variant:"outline",_hover:{borderBottomColor:d},focusBorderColor:"unison.aqua",size:"md",borderRadius:"0%",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"2px solid ".concat(l),value:c,onFocus:function(){t&&"current"in t&&(t.current.setSelectionRange(0,t.current.value.length),K(!0))},onBlur:function(){return K(!1)},onChange:function(e){return o({type:"sideBarSearch",value:e.target.value})}}),I?Object(_.jsxs)(h.a,{background:"transparent",position:"absolute",right:2,top:2,pointerEvents:"none",children:[Object(_.jsx)(x.a,{children:"ctrl"}),Object(_.jsx)(p.a,{children:"/"}),Object(_.jsx)(x.a,{children:"\u2318"}),Object(_.jsx)(p.a,{children:"+"}),Object(_.jsx)(x.a,{children:"B"})]}):null]}),Object(_.jsx)(D.a,{children:Object(_.jsx)(L.a,{label:"Sidebar explanation",title:"Sidebar",children:Object(_.jsxs)(C.b,{children:[Object(_.jsx)(C.a,{children:"Drag functions and drop them onto Flow Card or Docs Card"}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(x.a,{children:"up"}),", ",Object(_.jsx)(x.a,{children:"down"}),", ",Object(_.jsx)(x.a,{children:"left"}),","," ",Object(_.jsx)(x.a,{children:"right"})," to move in Sidebar"]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(x.a,{children:"space"})," to drag, ",Object(_.jsx)(x.a,{children:"right"})," then"," ",Object(_.jsx)(x.a,{children:"space"})," to drop"]}),Object(_.jsx)(C.a,{children:"Datatypes and Effects are not interactive at this point"})]})})}),Object(_.jsx)(M.a,{selected:[],"aria-label":"Functions, types and effects",defaultCollapseIcon:Object(_.jsx)(T.a,{color:"unison.purple"}),defaultExpandIcon:Object(_.jsx)(w.a,{color:"unison.purple"}),onNodeFocus:function(e,t){var n=document.querySelector('[data-rbd-draggable-id="'.concat(t,'"]'));if(n){var _,r,o,c,i;document.querySelectorAll(".Mui-focused").forEach((function(e){e.classList.remove("Mui-focused")}));var s=null===(_=n.parentElement)||void 0===_||null===(r=_.parentElement)||void 0===r?void 0:r.parentElement,l=null===s||void 0===s?void 0:s.parentElement,d=null===l||void 0===l||null===(o=l.parentElement)||void 0===o||null===(c=o.parentElement)||void 0===c||null===(i=c.parentElement)||void 0===i?void 0:i.parentElement,u=null===l||void 0===l?void 0:l.previousElementSibling,p=null===l||void 0===l?void 0:l.nextElementSibling;n.bound||(n.bound=!0,R()(n).bind("left",(function(e){a||(null===s||void 0===s||s.classList.remove("Mui-focused"),null===d||void 0===d||d.focus())})),R()(n).bind("down",(function(e){var t;a||(p?(p.focus(),null===s||void 0===s||s.classList.remove("Mui-focused")):(null===d||void 0===d||null===(t=d.nextElementSibling)||void 0===t||t.focus(),null===s||void 0===s||s.classList.remove("Mui-focused")))})),R()(n).bind("up",(function(e){a||(u?(u.focus(),null===s||void 0===s||s.classList.remove("Mui-focused")):(null===d||void 0===d||d.focus(),null===s||void 0===s||s.classList.remove("Mui-focused")))}))),null===s||void 0===s||s.classList.add("Mui-focused"),n.focus()}},children:n&&n.map((function(e){var t=Object(_.jsx)(p.a,{fontSize:"lg",color:"unison.purple",children:e.label});return Object(_.jsx)(v.a,{nodeId:e.nodeId,label:Object(_.jsxs)(h.a,{children:["functions"===e.nodeId?Object(_.jsx)(p.a,{fontWeight:"bold",fontSize:"xl",color:l,children:"\u03bb"}):"types"===e.nodeId?Object(_.jsx)(k.a,{color:l}):"effects"===e.nodeId?Object(_.jsx)(B.a,{color:l}):null,t]}),children:function(){switch(e.nodeId){case"functions":return e.items.map((function(t){var n="".concat(e.nodeId,"_").concat(t.name);return Object(r.createElement)(F,Object(u.a)(Object(u.a)({},t),{},{key:n,nodeId:n,isAnyItemDragging:!!a}))}));case"types":return e.items.map((function(t){var n="".concat(e.nodeId,"_").concat(t.type);return Object(r.createElement)(z,Object(u.a)(Object(u.a)({},t),{},{key:n,nodeId:n,isAnyItemDragging:!!a}))}));case"effects":return null;default:}}()},e.nodeId)}))})]})}))),N=n(422),V=n(474),H=n(99),X=n(67),Y=n(96),G=n(22),J=n(479),$=n(485),Q=n(472),Z=n(236),ee=n(423),te=n(424),ne=n(426),_e=n(473),re=n(425),ae=(n(290),r.memo((function(e){var t=e.type,n=e.value,r=e.onChange,a=e.direction;return Object(_.jsxs)(N.a,{direction:a,justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(A.a,{typeAsString:t}),function(){if(!r)return Object(_.jsx)(b.a,{children:"boolean"===t?n?"true":"false":n});switch(t){case"string":return Object(_.jsx)(E.a,{size:"sm",value:n,variant:"outline",backgroundColor:"white",focusBorderColor:"unison.aqua",rounded:"base",onChange:function(e){r(e.target.value)}});case"number":return Object(_.jsx)(J.a,{size:"sm",value:n,variant:"outline",backgroundColor:"white",focusBorderColor:"unison.aqua",rounded:"base",onChange:function(e,t){isNaN(Number(t))||r(t)},allowMouseWheel:!0,children:Object(_.jsx)(J.b,{})});case"boolean":return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)($.a,{colorScheme:"purple",isChecked:n,onChange:function(e){r(e.target.checked)}}),Object(_.jsx)(p.a,{children:n?"true":"false"})]});default:return null}}()]})})));var oe=r.memo((function(e){var t=e.fnId,n=e.direction,a=e.paramIndex,o=e.noInput,c=void 0!==o&&o,i=r.useContext(se),l=i.fns,d=i.setFns,p=l.find((function(e){return e.id===t})),b=p.parameters,j=p.returns,O=(p.id,"return"===a?j:"last"===a?b[b.length-1]:b[a]),m=c||"return"===a?void 0:function(e){var n,_,r=(n=l.findIndex((function(e){return e.id===t})),[(_=l).slice(0,n),_.slice(n)]),o=Object(s.a)(r,2),c=o[0],i=function(e,t,n){for(var _=null,r=[],a=0;a<e.length;a++){var o=e[a],c=Object(G.a)(o.parameters);0===a&&(("last"===n?c[c.length-1]:c[n]).value=t);var i=c[c.length-1];i&&(c[c.length-1]=Object(u.a)(Object(u.a)({},i),{},{value:null===_?null===i||void 0===i?void 0:i.value:_}));var s=void 0;try{s=o.fn.apply(o,Object(G.a)(c.map((function(e){return e.value}))))}catch(l){console.log({error:l});break}r.push(Object(u.a)(Object(u.a)({},o),{},{parameters:c,returns:Object(u.a)(Object(u.a)({},o.returns),{},{value:s})})),_=s}return r}(o[1],e,a);d(c.concat(i))};return Object(_.jsx)(ae,{type:O.type,value:O.value,onChange:m,direction:n})})),ce=r.memo(Object(j.a)((function(e,t){var n=e.item,r=e.isFirstFunctionInFlow,a=Object(Y.a)(e,["item","isFirstFunctionInFlow"]),o=0===n.parameters.length,c=1===n.parameters.length;return Object(_.jsxs)(Q.a,Object(u.a)(Object(u.a)({},a),{},{ref:t,backgroundColor:"gray.200",rounded:"md",marginBottom:1,padding:1,templateColumns:"auto 25%",width:"100%",gap:1,children:[Object(_.jsxs)(Q.b,{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",children:[Object(_.jsx)(b.a,{justifySelf:"flex-start",backgroundColor:"transparent",children:n.name}),o||c?null:n.parameters.slice(0,n.parameters.length-1).map((function(e,t){var r=t===n.parameters.length-2?{transform:"rotate(-45deg)"}:null;return Object(_.jsxs)(h.a,{justifySelf:"flex-end",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",children:[Object(_.jsx)(oe,{fnId:n.id,paramIndex:t,direction:"column"})," ",Object(_.jsx)(I.a,{css:r})]},t)}))]}),Object(_.jsx)(Q.b,{width:"100%",children:Object(_.jsxs)(h.b,{children:[o?Object(_.jsx)(b.a,{children:"()"}):Object(_.jsx)(oe,{fnId:n.id,paramIndex:"last",direction:"column",noInput:!r}),Object(_.jsx)(_e.a,{}),Object(_.jsx)(oe,{fnId:n.id,noInput:!0,paramIndex:"return",direction:"column"})]})})]}))}))),ie=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null,_=[],r=function(r){var a,o=null!==(a=t.find((function(t){return t.id===e[r].id})))&&void 0!==a?a:e[r],c=Object(G.a)(o.parameters),i=c[c.length-1];i&&(c[c.length-1]=Object(u.a)(Object(u.a)({},i),{},{value:null===n?null===i||void 0===i?void 0:i.value:n}));var s=void 0,l=void 0;try{s=o.fn.apply(o,Object(G.a)(c.map((function(e){return e.value}))))}catch(d){l=d,console.log({error:l})}_.push(Object(u.a)(Object(u.a)({},o),{},{parameters:c,returns:Object(u.a)(Object(u.a)({},o.returns),{},{value:s})})),n=s},a=0;a<e.length;a++)r(a);return _},se=r.createContext({fns:[],setFns:function(){}}),le=r.memo((function(e){var t=e.items,n=r.useState(ie(t)),a=Object(s.a)(n,2),o=a[0],c=a[1],i=r.useState(t),d=Object(s.a)(i,2),p=d[0],b=d[1];return p!==t&&(b(t),c((function(e){return ie(t,e)}))),Object(_.jsx)(se.Provider,{value:{fns:o,setFns:c},children:t.map((function(e,t){return Object(_.jsx)(l.b,{draggableId:e.id,index:t,children:function(n,r){return Object(_.jsx)(Z.a,{in:!0,children:Object(_.jsx)(ce,Object(u.a)(Object(u.a)({isFirstFunctionInFlow:0===t,item:e,ref:n.innerRef},n.draggableProps),n.dragHandleProps))})}},e.id)}))})})),de=r.memo(Object(j.a)((function(e,t){var n=e.items,r=e.dispatch,a=Object(Y.a)(e,["items","dispatch"]);return Object(_.jsxs)(m.a,Object(u.a)(Object(u.a)({ref:t,boxShadow:"base",padding:1,minHeight:"100%",backgroundColor:"white",display:"flex",flexDirection:"column"},a),{},{children:[Object(_.jsxs)(N.a,{paddingLeft:2,alignItems:"center",children:[Object(_.jsx)(ee.a,{fontSize:"xl",fontStyle:"italic",color:"unison.purple",children:"Flow"}),Object(_.jsx)(te.a,{}),Object(_.jsx)(Z.a,{in:n.length>0,children:Object(_.jsx)(H.a,{color:"unison.darkPink",sx:{"&:hover":{backgroundColor:"red.50"}},variant:"ghost",leftIcon:Object(_.jsx)(re.a,{}),onClick:function(){r({type:"clearFlowCard"})},children:"Clear"})}),Object(_.jsxs)(L.a,{label:"Flow card explanation",title:"Flow card",children:[Object(_.jsx)(C.b,{children:Object(_.jsx)(C.a,{children:'Flow is a special view for the flow function (left-to-right variadic compose). This is a stab at a "functional Scratch" to visually explore function composition.'})}),Object(_.jsx)(C.a,{children:"Last argument and return type line up vertically to reinforce the pipeline metaphor."}),Object(_.jsx)(C.a,{children:"JavaScript is executed and shown on the right. There's no type checking in place yet."})]})]}),Object(_.jsx)(ne.a,{marginTop:2}),Object(_.jsx)(l.c,{droppableId:"FlowCard",children:function(e,t){return Object(_.jsxs)(m.a,Object(u.a)(Object(u.a)({ref:e.innerRef},e.droppableProps),{},{flex:1,minHeight:"100%",height:"100%",overflow:"auto",paddingX:2,paddingY:4,children:[Object(_.jsx)(le,{items:n}),e.placeholder]}))}})]}))}))),ue=n(144),pe=n(475),be=r.useContext,je=function(){var e=r.useRef(null),t=r.useRef(null),n=r.useState(0),a=Object(s.a)(n,2),o=a[0],c=a[1];r.useLayoutEffect((function(){var n,_=null===(n=t.current)||void 0===n?void 0:n.offsetWidth,r=function(e){if(_){var t=e.target.scrollLeft,n=t<10?-1:Math.ceil(t/(_-40));n!==o&&c(n)}},a=e.current;return a&&a.addEventListener("scroll",r),function(){a&&a.removeEventListener("scroll",r)}}),[o]);var i=be(X.a),l=i.state,d=i.dispatch;return Object(_.jsx)(N.a,{overflowX:"auto",overflowY:"hidden",flexGrow:1,height:"100%",backgroundColor:"purple.50",ref:e,children:Object(_.jsxs)(h.a,{spacing:0,height:"100%",width:39*(l.docCards.length+1)+"vw",display:"flex","flex-grow":1,position:"relative",transition:"width 100ms cubic-bezier(0.19, 1, 0.22, 1)",children:[Object(_.jsx)(de,{transition:"box-shadow 100ms linear,opacity 75ms linear,transform 200ms cubic-bezier(0.19, 1, 0.22, 1);",ref:t,items:l.flowCardFunctions,dispatch:d,flexShrink:0,width:"39vw",top:"0px",position:"sticky",flexGrow:1,overflowY:"auto",borderLeft:"1px solid rgba(0,0,0,0.05)",left:"0px"}),l.docCards.length>0?"history"===l.docCardsNavigationType?Object(_.jsx)(ue.a,{index:l.docCardsSelectedIndex,func:function(){var e=l.docCards[l.docCardsSelectedIndex];return"editing"===e.type?l.functions.find((function(t){return t.name===e.fnName})):void 0}(),dispatch:d,functions:l.functions,navigationType:"history",transition:"box-shadow 100ms linear,opacity 75ms linear,transform 200ms cubic-bezier(0.19, 1, 0.22, 1);",flexShrink:0,width:"39vw",top:"0px",position:"sticky",flexGrow:1,overflowY:"auto",borderLeft:"1px solid rgba(0,0,0,0.05)",left:"40px"}):l.docCards.map((function(e,t){var n="editing"===e.type?l.functions.find((function(t){return t.name===e.fnName})):void 0;return Object(_.jsx)(ue.a,{index:t,func:n,dispatch:d,functions:l.functions,navigationType:0===t?l.docCardsNavigationType:void 0,transition:"box-shadow 100ms linear,opacity 75ms linear,transform 200ms cubic-bezier(0.19, 1, 0.22, 1);",flexShrink:0,width:"39vw",top:"0px",position:"sticky",flexGrow:1,overflowY:"auto",borderLeft:"1px solid rgba(0,0,0,0.05)",left:40*(t+1)+"px",boxShadow:t<o?"0px 0px 15px 3px rgba(0,0,0,0.1)":"0px 0px 15px 3px rgba(0,0,0,0)"},t)})):Object(_.jsx)(m.a,{width:"39vw",flexGrow:1,flexShrink:0,children:Object(_.jsx)(D.a,{children:Object(_.jsx)(V.a,{in:!0,children:Object(_.jsx)(H.a,{leftIcon:Object(_.jsx)(pe.a,{}),colorScheme:"teal",variant:"ghost",fontSize:"xl",onClick:function(){return d({type:"newDocsCard"})},children:"New function"})})})})]})})},Oe=n(231),me=n(69),fe=(n(416),n(229)),ge=function(){var e=Object(X.b)(),t=Object(s.a)(e,2),n=t[0],a=t[1],o=r.useCallback((function(e){var t,n,_;if("FlowCard"!==e.source.droppableId&&"FlowCard"===(null===(t=e.destination)||void 0===t?void 0:t.droppableId))a({type:"dropFnFromSideBarOnFlowCard",index:e.destination.index,draggableId:e.draggableId});else if("FlowCard"===e.source.droppableId&&"FlowCard"===(null===(n=e.destination)||void 0===n?void 0:n.droppableId))a({type:"dropFnFromFlowCardToFlowCard",sourceIndex:e.source.index,destinationIndex:e.destination.index});else if("DocsCard"===(null===(_=e.destination)||void 0===_?void 0:_.droppableId))a({type:"dropFnFromSideBarToDocsCard",draggableId:e.draggableId});else{a({type:"dropOutside"});var r=document.querySelector("[id$='".concat(e.draggableId,"']"));r&&r.focus()}}),[a]),c=r.useRef(),i=Object(d.b)("colors","unison.purple");return Object(_.jsx)(X.a.Provider,{value:{state:n,dispatch:a},children:Object(_.jsx)(fe.HotKeys,{keyMap:{focusSidebar:["ctrl+b","command+b"]},handlers:{focusSidebar:function(){c.current.focus()}},children:Object(_.jsx)(l.a,{onDragStart:function(){a({type:"isDragging"})},onDragEnd:o,children:Object(_.jsxs)(Oe.a,{style:{height:"100vh",borderTop:"6px solid ".concat(i)},defaultSize:"20%",minSize:100,maxSize:-300,split:"vertical",pane2Style:{overflowX:"auto"},children:[Object(_.jsx)(q,{ref:c,searchValue:n.searchValue,dispatch:a,isAnyItemDragging:n.isSideBarItemDragging,items:[{nodeId:"functions",label:"Functions",items:Object(me.a)(n.functions,n.searchValue,{keys:["name"]})},{nodeId:"types",label:"Data Types",items:Object(me.a)(n.dataTypes,n.searchValue,{keys:["type"]})},{nodeId:"effects",label:"Effects",items:Object(me.a)(n.effects,n.searchValue,{keys:["name"]})}]}),Object(_.jsx)(je,{})]})})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,487)).then((function(t){var n=t.getCLS,_=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),_(e),r(e),a(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=n(476),xe="#520066",De=Object(he.a)({styles:{global:{html:{backgroundColor:xe,minWidth:"860px","*:focus":{outline:"none !important",boxShadow:"none !important"}}}},number:3,bool:!1,shadows:{outline:"none"},colors:{unison:{purple:xe,lightPurple:"#8f228f",aqua:"#3cd6b7",limegreen:"#88cc00",green:"#008f30",yellow:"#ffc41f",orange:"#ff8800",pink:"#ff4756",lightblue:"#00adeb",blue:"#0951e0",darkblue:"#00018f",gray:"#616c77",darkOrange:"#572E00",darkGreen:"#005C1F",darkPink:"#C4333F"}}});o.a.render(Object(_.jsxs)(r.StrictMode,{children:[Object(_.jsx)(c.a,{}),Object(_.jsx)(i.a,{theme:De,children:Object(_.jsx)(ge,{})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ee()},45:function(e,t,n){"use strict";var _=n(2),r=(n(1),n(146));t.a=function(e){var t=e.typeAsString,n=e.as,a=e.children,o=e.rounded;return Object(_.jsx)(r.a,{as:n,sx:{string:{color:"unison.darkOrange",backgroundColor:"yellow.100"},number:{color:"unison.darkGreen",backgroundColor:"green.100"},boolean:{color:"unison.pink",backgroundColor:"pink.100"},function:{color:"unison.purple",backgroundColor:"purple.100"},object:{color:"black",backgroundColor:"gray.100"},array:{color:"black",backgroundColor:"gray.100"},undefined:{color:"black",backgroundColor:"gray.100"},null:{color:"black",backgroundColor:"gray.100"}}[t],rounded:null!==o&&void 0!==o?o:"base",children:null!==a&&void 0!==a?a:t})}},56:function(e,t,n){"use strict";n.d(t,"f",(function(){return D})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return P})),n.d(t,"g",(function(){return M})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return T}));var _=n(4),r=n(2),a=n(1),o=n(236),c=n(99),i=n(58),s=n(428),l=n(70),d=n(100),u=n(239),p=n(427),b=n(425),j=n(237),O=n(429),m=n(421),f=n(76),g=n(45),E=n(145),h=n(67),x=a.useContext,D=function(e){var t=e.onClick,n=e.fadeIn,_=e.disabled;return n?Object(r.jsx)(o.a,{in:!0,children:Object(r.jsx)(c.a,{color:_?"gray.300":"unison.green",sx:{"&:hover":{backgroundColor:"green.50"}},variant:"ghost",leftIcon:Object(r.jsx)(p.a,{}),disabled:_,onClick:t,children:"Save"})}):null},C=function(e){var t=e.onClick;return e.fadeIn?Object(r.jsx)(o.a,{in:!0,children:Object(r.jsx)(c.a,{color:"unison.darkPink",sx:{"&:hover":{backgroundColor:"red.50"}},variant:"ghost",leftIcon:Object(r.jsx)(b.a,{}),onClick:t,children:"Clear"})}):null},P=function(){return Object(r.jsx)(f.a,{label:"Docs card explanation",title:"Docs card",children:Object(r.jsxs)(i.b,{children:[Object(r.jsx)(i.a,{children:"Docs is an editable view of the documentation for a function."}),Object(r.jsxs)(i.a,{children:['The signature input will autocomplete types (string/boolean/number so far) and arrows but won\'t prevent invalid states, which will disable the "Save" button.'," "]}),Object(r.jsx)(i.a,{children:'The description can reference other functions with "@" (triggers autocomplete) and navigate to them by clicking on the link. We could imagine adding tests and examples here.'}),Object(r.jsx)(i.a,{children:"Navigation can be "}),Object(r.jsxs)(i.b,{styleType:"none",children:[Object(r.jsxs)(i.a,{children:[Object(r.jsx)(j.a,{size:"xs",sx:{transform:"rotate(90deg)"}})," ","browser history style"]}),Object(r.jsxs)(i.a,{children:[Object(r.jsx)(E.a,{style:{width:"16px",height:"16px",display:"inline"}})," ","panes style (like",Object(r.jsxs)(s.a,{href:"https://notes.andymatuschak.org/About_these_notes",color:"unison.purple",_hover:{color:"unison.lightPurple"},children:[" ","Andy Matuschak's notes"]}),")"]})]})]})})},M=function(e){var t=e.typeSuggestions,n=e.selectedIndex,_=e.left,a=e.top;return Object(r.jsx)(l.a,{as:"ul",position:"fixed",left:_,top:a,listStyleType:"none",padding:1,boxShadow:"lg",backgroundColor:"white",rounded:"sm",zIndex:1e3,children:t.map((function(e,t){return Object(r.jsx)(l.a,{as:"li",display:"block",textAlign:"center",paddingX:1,paddingY:1,backgroundColor:t===n?"unison.aqua":"string"===e.title?"yellow.100":"number"===e.title?"green.100":"boolean"===e.title?"pink.100":"white",children:Object(r.jsx)(g.a,{rounded:"none",typeAsString:e.title,children:e.title})},e.title)}))})},v=function(e){var t=e.functionSuggestions,n=e.selectedIndex,_=e.left,a=e.top,o=e.onClick;return Object(r.jsx)(l.a,{as:"ul",position:"fixed",left:_,top:a,listStyleType:"none",padding:1,boxShadow:"lg",backgroundColor:"white",rounded:"sm",zIndex:1e3,children:t.map((function(e,t){return Object(r.jsx)(l.a,{onClick:function(){return o(t)},as:"li",display:"block",textAlign:"center",paddingX:1,paddingY:1,backgroundColor:t===n?"unison.aqua":"white",rounded:"base",children:e.name},e.name)}))})},I=function(e){var t=e.navigationType,n=e.dispatch;return Object(r.jsx)(d.a,{onClick:function(){n({type:"changeNavigationType",navigationType:"history"===t?"panes":"history"})},variant:"ghost",sx:{color:"unison.purple","&:hover":{color:"unison.aqua"}},"aria-label":"Change navigation type",size:"md",icon:"panes"===t?Object(r.jsx)(j.a,{sx:{transform:"rotate(90deg)"}}):Object(r.jsx)(E.a,{})})},y=function(e){return{variant:"ghost",sx:e?{color:"grey.300"}:{color:"unison.purple","&:hover":{color:"unison.aqua"}}}},T=function(){var e=x(h.a),t=e.state,n=e.dispatch,a="6",o=0===t.docCardsSelectedIndex,c=t.docCardsSelectedIndex===t.docCards.length-1;return Object(r.jsxs)(u.a,{children:[Object(r.jsx)(d.a,Object(_.a)(Object(_.a)({onClick:function(){n({type:"docsNavigate",to:"back"})},"aria-label":"Navigate back"},y(o)),{},{disabled:o,icon:Object(r.jsx)(O.a,{w:a,h:a})})),Object(r.jsx)(d.a,Object(_.a)(Object(_.a)({margin:0,onClick:function(){n({type:"docsNavigate",to:"forwards"})},disabled:c,"aria-label":"Navigate forwads"},y(c)),{},{icon:Object(r.jsx)(m.a,{w:a,h:a})}))]})}},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var _=n(4),r=n(5),a=n(22),o=n(1),c=n(432),i={functions:[{name:"add",parameters:[{type:"number"},{type:"number"}],returns:{type:"number"},fn:function(e,t){return e+t},description:"Adds two numbers together"},{name:"id",parameters:[{type:"string"}],returns:{type:"string"},fn:function(e){return e},description:"monomorphic id for string"},{name:"greaterThan",parameters:[{type:"number"},{type:"number"}],returns:{type:"boolean"},fn:function(e,t){return t>e},description:"Number is greater than another"},{name:"length",parameters:[{type:"string"}],returns:{type:"number"},fn:function(e){return e.length},description:"Takes a string and returns how many characters it has"},{name:"upperCase",parameters:[{type:"string"}],returns:{type:"string"},fn:function(e){return e.toUpperCase()},description:"Takes a string and returns is with all characters in uppercase"}],dataTypes:[{type:"string"},{type:"number"},{type:"boolean"}],effects:[],isSideBarItemDragging:!1,flowCardFunctions:[],docCardsNavigationType:"panes",docCardsSelectedIndex:0,docCards:[{type:"creating"}],searchValue:""},s=function(e,t,n){var _=Object(a.a)(e),o=_.splice(t,1),c=Object(r.a)(o,1)[0];return _.splice(n,0,c),_},l=function(e,t,n){var _=Object(a.a)(e);return _.splice(t,0,n),_},d=function(e,t,n){var _=Object(a.a)(e);return _.splice(t,1,n),_},u=function(e){return"string"===e.type?"":"number"===e.type?0:"boolean"!==e.type&&("object"===e.type?"":"undefined"===e.type||"null"===e.type?void 0:"")},p=function(e){var t=e.state,n=e.name,r=e.id,a=t.functions.find((function(e){return e.name===n})),o=a.parameters.map((function(e){var t=u(e);return Object(_.a)(Object(_.a)({},e),{},{value:t})})),c=Object(_.a)(Object(_.a)({},a.returns),{},{value:u(a.returns)});return Object(_.a)(Object(_.a)({},a),{},{parameters:o,returns:c,id:r})},b=function(e,t){return e===t.length-1?e:e+1},j=function(e){return 0===e?e:e-1};function O(e,t){switch(t.type){case"isDragging":return Object(_.a)(Object(_.a)({},e),{},{isSideBarItemDragging:!0});case"createFunction":var n=e.functions.findIndex((function(e){return e.name===t.function.name}));return-1===n?Object(_.a)(Object(_.a)({},e),{},{functions:e.functions.concat(t.function).sort((function(e,t){return e.name.localeCompare(t.name)})),docCards:d(e.docCards,t.index,{type:"editing",fnName:t.function.name})}):Object(_.a)(Object(_.a)({},e),{},{functions:d(e.functions,n,t.function)});case"dropOutside":return Object(_.a)(Object(_.a)({},e),{},{isSideBarItemDragging:!1});case"dropFnFromSideBarOnFlowCard":return Object(_.a)(Object(_.a)({},e),{},{isSideBarItemDragging:!1,flowCardFunctions:l(e.flowCardFunctions,t.index,p({state:e,name:t.draggableId.split("_")[1],id:Object(c.a)()}))});case"dropFnFromFlowCardToFlowCard":return Object(_.a)(Object(_.a)({},e),{},{isSideBarItemDragging:!1,flowCardFunctions:s(e.flowCardFunctions,t.sourceIndex,t.destinationIndex)});case"clearFlowCard":return Object(_.a)(Object(_.a)({},e),{},{flowCardFunctions:[]});case"sideBarSearch":return Object(_.a)(Object(_.a)({},e),{},{searchValue:t.value});case"dropFnFromSideBarToDocsCard":return Object(_.a)(Object(_.a)({},e),{},{docCards:[{type:"editing",fnName:t.draggableId.split("_")[1]}],docCardsSelectedIndex:0});case"openDocs":var r;if(null!==(r=!e.functions.find((function(e){return e.name===t.fnName})))&&void 0!==r?r:e.docCards.find((function(e){return"editing"===e.type&&e.fnName===t.fnName})))return e;var a=e.docCards.slice(0,t.openerIndex+1).concat({type:"editing",fnName:t.fnName}),o=b(e.docCardsSelectedIndex,a);return Object(_.a)(Object(_.a)({},e),{},{docCardsSelectedIndex:o,docCards:a});case"closeDocsCard":if("history"===e.docCardsNavigationType)return Object(_.a)(Object(_.a)({},e),{},{docCards:[],docCardsSelectedIndex:0});var i=e.docCards.filter((function(e,n){return n!==t.index})),u=j(e.docCardsSelectedIndex);return Object(_.a)(Object(_.a)({},e),{},{docCards:i,docCardsSelectedIndex:u});case"clearDocsCard":return Object(_.a)(Object(_.a)({},e),{},{docCards:d(e.docCards,t.index,{type:"creating"})});case"newDocsCard":return Object(_.a)(Object(_.a)({},e),{},{docCards:[{type:"creating"}]});case"changeNavigationType":return Object(_.a)(Object(_.a)({},e),{},{docCardsNavigationType:t.navigationType,docCardsSelectedIndex:e.docCards.length-1});case"docsNavigate":var O="forwards"===t.to?b(e.docCardsSelectedIndex,e.docCards):j(e.docCardsSelectedIndex);return Object(_.a)(Object(_.a)({},e),{},{docCardsSelectedIndex:O})}}var m=o.createContext({state:i,dispatch:function(){}}),f=function(){return o.useReducer(O,i)}},76:function(e,t,n){"use strict";var _=n(2),r=n(420),a=n(71),o=n(100),c=n(433);n(1);t.a=function(e){return Object(_.jsxs)(a.a,{children:[Object(_.jsx)(a.g,{children:Object(_.jsx)(o.a,{"aria-label":e.label,icon:Object(_.jsx)(c.a,{label:e.label,"aria-label":e.label,hasArrow:!0,children:Object(_.jsx)(r.a,{})}),size:"lg",color:"unison.purple",variant:"ghost",sx:{"&:hover":{color:"unison.aqua"}}})}),Object(_.jsxs)(a.e,{children:[Object(_.jsx)(a.b,{}),Object(_.jsx)(a.d,{}),Object(_.jsx)(a.f,{children:e.title}),Object(_.jsx)(a.c,{children:e.children})]})]})}}},[[418,1,2]]]);
//# sourceMappingURL=main.ac05670e.chunk.js.map